!function(){var t={displayName:"stringFunctions",description:"Common string functions needed in K2",properties:{delimitedString:{displayName:"delimitedString",type:"string"},seperator:{displayName:"seperator",type:"string"},URL:{displayName:"URL",type:"string"},inputValue:{displayName:"outputValue",type:"string"},outputValue:{displayName:"outputValue",type:"string"},photo:{displayName:"photo",type:"attachment"}},methods:{split:{displayName:"split",type:"list",parameters:{removeEmptyEntries:{displayName:"removeEmptyEntries",type:"boolean"}},inputs:["delimitedString","seperator"],outputs:["outputValue"]},countItems:{displayName:"countItems",type:"read",inputs:["delimitedString","seperator"],outputs:["outputValue"]},returnString:{displayName:"returnString",description:"A dummy method to move input values to parameters",type:"read",inputs:["inputValue"],outputs:["outputValue"]},getBase64ofImage:{displayName:"getBase64ofImage",type:"read",inputs:["URL"],outputs:["outputValue","photo"]}}};async function e(t,e,a,i){switch(t){case"split":await async function(t,e,a){let i=t.delimitedString.split(t.seperator);i=i.filter(t=>""!=t.trim()),postResult(i.map(t=>({outputValue:t})))}(e);break;case"countItems":await async function(t,e,a){let i=t.delimitedString.split(t.seperator);i=i.filter(t=>""!=t.trim()),postResult({outputValue:i.length})}(e);break;case"returnString":await async function(t,e,a){let i=t.inputValue;postResult({outputValue:i})}(e);break;case"getBase64ofImage":await async function(t,e,a){let i=t.URL;var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4!==s.readyState)return;if(200!==s.status)throw new Error("Failed with status "+s.status);let t=i.match(/([^\/]*)\/*$/)[1];s.response.size;postResult({photo:{filename:t,content:s.response},outputValue:t})},s.open("GET",i),s.withCredentials=!0,s.setRequestHeader("Accept","application/json"),s.responseType="blob",s.send()}(e);break;default:throw new Error(`The method ${t} is not supported.`)}}metadata={systemName:"FCGUtillitiesBroker",displayName:"FCGUtillitiesBroker",description:"A Utility broker for housing K2 Functionallity"},ondescribe=async function({configuration:e}){postSchema({objects:{stringFunctions:t}})},onexecute=async function({objectName:t,methodName:a,parameters:i,properties:s,configuration:n}){switch(t){case"stringFunctions":await e(a,s);break;default:throw new Error("The object "+t+" is not supported.")}}}();
//# sourceMappingURL=FCGUtilities.jssp.map
